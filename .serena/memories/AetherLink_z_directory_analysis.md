# AetherLink_z é¡¹ç›®ç›®å½•ç»“æ„å…¨é¢åˆ†ææŠ¥å‘Š

## æ‰§è¡Œæ—¶é—´
2025-11-16

## ä¸€ã€é¡¹ç›®åŸºç¡€ä¿¡æ¯ç»Ÿè®¡

### ä»£ç è§„æ¨¡
- **æ€»æ–‡ä»¶æ•°**: 133 ä¸ª TypeScript/JavaScript æ–‡ä»¶
- **æ€»ä»£ç è¡Œæ•°**: 26,498 è¡Œ
- **å¹³å‡æ–‡ä»¶è§„æ¨¡**: ~199 è¡Œ/æ–‡ä»¶
- **æ‰«æèŒƒå›´**: æ’é™¤ node_modulesã€.gitã€.expoã€androidã€.serenaã€.claude ç­‰ç›®å½•

### ä¸»è¦ç›®å½•åˆ†å¸ƒ
| ç›®å½• | æ–‡ä»¶æ•° | å æ¯” | è¯´æ˜ |
|------|--------|------|------|
| components/chat | 28 | 21.1% | èŠå¤©ç•Œé¢ç»„ä»¶ |
| hooks | 13 | 9.8% | ä¸šåŠ¡é€»è¾‘ Hooks |
| services/ai | 10 | 7.5% | AI é›†æˆå’Œæ¨¡å‹å¤„ç† |
| storage/repositories | 12 | 9.0% | æ•°æ®è®¿é—®å±‚ |
| app/settings | 12 | 9.0% | è®¾ç½®é¡µé¢ |
| components/common | 4 | 3.0% | é€šç”¨ç»„ä»¶ |
| components/providers | 4 | 3.0% | Context æä¾›è€… |
| components/settings | 4 | 3.0% | è®¾ç½®ç»„ä»¶ |
| services/search | 5 | 3.8% | æœç´¢å¼•æ“é›†æˆ |
| services/voice | 3 | 2.3% | è¯­éŸ³è¯†åˆ« |
| constants | 4 | 3.0% | å¸¸é‡é…ç½® |
| utils | 8 | 6.0% | å·¥å…·å‡½æ•° |
| types | 3 | 2.3% | ç±»å‹å®šä¹‰ |
| **å…¶ä»–** | **16** | **12.0%** | æ ¹ç›®å½• + å…¶ä»–æ¨¡å— |

---

## äºŒã€è¯¦ç»†ç›®å½•ç»“æ„

### ğŸ“± app/ - åº”ç”¨è·¯ç”±ï¼ˆ14 ä¸ªæ–‡ä»¶ï¼Œ2 ä¸€çº§ + 12 settings + 1 topicsï¼‰

```
app/
â”œâ”€â”€ _layout.tsx              (2.5 KB)  - æ ¹å¸ƒå±€è·¯ç”±é…ç½®
â”œâ”€â”€ index.tsx                (4.9 KB)  - èŠå¤©ä¸»é¡µé¢
â”œâ”€â”€ CLAUDE.md                (10.7 KB) - æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ settings/                (12 ä¸ªè®¾ç½®é¡µé¢ï¼Œçº¦ 115 KB)
â”‚   â”œâ”€â”€ index.tsx            (0.4 KB)  - è®¾ç½®é¡µå¯¼èˆª
â”‚   â”œâ”€â”€ about.tsx            (0.5 KB)  - å…³äºé¡µé¢
â”‚   â”œâ”€â”€ appearance.tsx        (9.8 KB)  - ä¸»é¢˜å¤–è§‚è®¾ç½®
â”‚   â”œâ”€â”€ behavior.tsx          (2.9 KB)  - è¡Œä¸ºè®¾ç½®
â”‚   â”œâ”€â”€ data-settings.tsx     (14.0 KB)- æ•°æ®ç®¡ç†ï¼ˆå¤‡ä»½ã€æ¸…ç†ã€å¯¼å‡ºï¼‰
â”‚   â”œâ”€â”€ default-model.tsx     (6.1 KB) - é»˜è®¤æ¨¡å‹é€‰æ‹©
â”‚   â”œâ”€â”€ mcp-server.tsx        (19.0 KB)- MCP æœåŠ¡å™¨é…ç½®ï¼ˆé‡ç‚¹æ¨¡å—ï¼‰
â”‚   â”œâ”€â”€ prompt-collections.tsx(9.8 KB) - æç¤ºè¯é›†åˆç®¡ç†
â”‚   â”œâ”€â”€ quick-phrases.tsx     (9.6 KB) - å¿«æ·çŸ­è¯­è®¾ç½®
â”‚   â”œâ”€â”€ topic-naming.tsx      (5.8 KB) - è¯é¢˜å‘½åç­–ç•¥
â”‚   â”œâ”€â”€ voice-settings.tsx    (9.9 KB) - è¯­éŸ³è¯†åˆ«è®¾ç½®
â”‚   â”œâ”€â”€ web-search.tsx        (8.3 KB) - ç½‘ç»œæœç´¢å¼•æ“é…ç½®
â”‚   â”œâ”€â”€ workspace.tsx         (0.6 KB) - å·¥ä½œåŒºè®¾ç½®
â”‚   â”œâ”€â”€ providers/[vendor].tsx(364 KB) - åŠ¨æ€ AI æä¾›å•†é…ç½®
â”‚   â””â”€â”€ custom-providers/[id].tsx(1.2 KB) - è‡ªå®šä¹‰æä¾›å•†é…ç½®
â”œâ”€â”€ topics/
â”‚   â””â”€â”€ index.tsx            (1.2 KB)  - è¯é¢˜ç®¡ç†é¡µé¢
```

**key ç‰¹ç‚¹**:
- ä½¿ç”¨ Expo Router æ–‡ä»¶è·¯ç”±
- settings/ ä¸‹çš„ 12 ä¸ªè®¾ç½®é¡µé¢è¦†ç›–åº”ç”¨çš„å‡ ä¹æ‰€æœ‰é…ç½®åŠŸèƒ½
- `mcp-server.tsx` å’Œ `providers/[vendor].tsx` æ˜¯ä¸¤ä¸ªæœ€å¤æ‚çš„è®¾ç½®é¡µé¢ï¼ˆ> 350 è¡Œï¼‰

---

### ğŸ¨ components/ - UI ç»„ä»¶åº“ï¼ˆ44 ä¸ªæ–‡ä»¶ï¼‰

#### components/chat/ - èŠå¤©ç•Œé¢ç»„ä»¶ï¼ˆ28 ä¸ªæ–‡ä»¶ï¼Œ~280 KBï¼‰
**æ–‡ä»¶å¯†é›†åº¦: æœ€é«˜ âš ï¸ éœ€è¦è€ƒè™‘åˆ†ç±»**

ä¸»è¦ç»„ä»¶æŒ‰åŠŸèƒ½åˆ†ç±»ï¼š
- **æ¶ˆæ¯å±•ç¤º** (8 ä¸ª):
  - `MessageList.tsx` (8.6 KB) - æ¶ˆæ¯åˆ—è¡¨ä¸»å®¹å™¨
  - `MessageBubble.tsx` (18.2 KB, 516 è¡Œ) - å•æ¡æ¶ˆæ¯æ¸²æŸ“ã€å¤§æ–‡ä»¶ã€‘
  - `ThinkingBlock.tsx` (4.4 KB) - æ€è€ƒé“¾å±•ç¤º
  - `ToolBlock.tsx` (5.0 KB) - MCP å·¥å…·ç»“æœå±•ç¤º
  - `MarkdownRenderer.tsx` (7.3 KB) - Markdown æ¸²æŸ“
  - `MathJaxRenderer.tsx` (11.4 KB) - æ•°å­¦å…¬å¼æ¸²æŸ“
  - `MixedRenderer.tsx` (4.9 KB) - æ··åˆå†…å®¹æ¸²æŸ“
  - `TypingIndicator.tsx` (2.7 KB) - è¾“å…¥æŒ‡ç¤ºå™¨

- **è¾“å…¥å’Œå·¥å…·æ ** (7 ä¸ª):
  - `ChatInput.tsx` (15.8 KB, 456 è¡Œ) - ä¸»è¾“å…¥ç»„ä»¶ã€å¤§æ–‡ä»¶ã€‘
  - `ChatInputField.tsx` (2.7 KB) - è¾“å…¥æ¡†
  - `ChatInputToolbar.tsx` (3.9 KB) - å·¥å…·æ 
  - `VoiceInputButton.tsx` (3.1 KB) - è¯­éŸ³è¾“å…¥æŒ‰é’®
  - `VoiceInputDialog.tsx` (9.2 KB) - è¯­éŸ³å¯¹è¯æ¡†
  - `AttachmentChips.tsx` (2.4 KB) - é™„ä»¶å±•ç¤º
  - `AttachmentMenu.tsx` (9.3 KB, 347 è¡Œ) - é™„ä»¶èœå•ã€éœ€è¦ä¼˜åŒ–ã€‘

- **å¯¹è¯æ¡†/å¼¹çª—** (6 ä¸ª):
  - `AssistantPickerDialog.tsx` (9.5 KB, 321 è¡Œ) - åŠ©æ‰‹é€‰æ‹©å¯¹è¯æ¡†
  - `ModelPickerDialog.tsx` (7.7 KB) - æ¨¡å‹é€‰æ‹©å¯¹è¯æ¡†
  - `QuickPhrasePickerDialog.tsx` (7.1 KB) - å¿«æ·çŸ­è¯­é€‰æ‹©
  - `ImageGenerationDialog.tsx` (16.0 KB, 483 è¡Œ) - å›¾ç‰‡ç”Ÿæˆå¯¹è¯æ¡†ã€å¤§æ–‡ä»¶ã€‘
  - `McpToolsDialog.tsx` (3.3 KB) - MCP å·¥å…·å¯¹è¯æ¡†
  - `ImageViewer.tsx` (10.9 KB, 373 è¡Œ) - å›¾ç‰‡æŸ¥çœ‹å™¨ã€éœ€è¦ä¼˜åŒ–ã€‘

- **ä¾§è¾¹æ å’Œèœå•** (4 ä¸ª):
  - `ChatHeader.tsx` (2.7 KB) - èŠå¤©é¡¶éƒ¨æ 
  - `ChatSidebar.tsx` (15.7 KB, 425 è¡Œ) - å·¦ä¾§è¾¹æ ã€å¤§æ–‡ä»¶ã€‘
  - `TopicsSidebar.tsx` (15.9 KB, 487 è¡Œ) - è¯é¢˜ä¾§è¾¹æ ã€å¤§æ–‡ä»¶ã€‘
  - `MoreActionsMenu.tsx` (13.3 KB, 472 è¡Œ) - æ›´å¤šæ“ä½œèœå•ã€å¤§æ–‡ä»¶ã€‘

- **å…¶ä»–** (3 ä¸ª):
  - `ChatSettings.tsx` (7.0 KB) - èŠå¤©è®¾ç½®é¢æ¿
  - `GeneratedImageCard.tsx` (6.6 KB) - ç”Ÿæˆå›¾ç‰‡å¡ç‰‡
  - `SearchLoadingIndicator.tsx` (2.7 KB) - æœç´¢åŠ è½½æŒ‡ç¤º
  - `CLAUDE.md` (3.7 KB) - æ¨¡å—æ–‡æ¡£

**åˆ†æ**:
- âŒ **æ–‡ä»¶å †ç§¯ä¸¥é‡**: 28 ä¸ªæ–‡ä»¶å…¨éƒ¨æ”¾åœ¨åŒä¸€ç›®å½•
- âœ… **åŠŸèƒ½ç›¸å¯¹æ¸…æ™°**: å¯åˆ†ä¸º 5-6 ä¸ªå­ç›®å½•
- âš ï¸ **å¤§æ–‡ä»¶é›†ä¸­**: 5 ä¸ªæ–‡ä»¶ > 400 è¡Œï¼ˆMessageBubbleã€ChatInputã€MoreActionsMenuã€ImageGenerationDialogã€TopicsSidebarï¼‰

**å»ºè®®åˆ†ç±»æ–¹æ¡ˆ**:
```
components/chat/
â”œâ”€â”€ message/
â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”œâ”€â”€ ThinkingBlock.tsx
â”‚   â”œâ”€â”€ ToolBlock.tsx
â”‚   â””â”€â”€ renderers/
â”‚       â”œâ”€â”€ MarkdownRenderer.tsx
â”‚       â”œâ”€â”€ MathJaxRenderer.tsx
â”‚       â””â”€â”€ MixedRenderer.tsx
â”œâ”€â”€ input/
â”‚   â”œâ”€â”€ ChatInput.tsx
â”‚   â”œâ”€â”€ ChatInputField.tsx
â”‚   â”œâ”€â”€ ChatInputToolbar.tsx
â”‚   â”œâ”€â”€ VoiceInputButton.tsx
â”‚   â””â”€â”€ AttachmentChips.tsx
â”œâ”€â”€ dialogs/
â”‚   â”œâ”€â”€ AssistantPickerDialog.tsx
â”‚   â”œâ”€â”€ ModelPickerDialog.tsx
â”‚   â”œâ”€â”€ QuickPhrasePickerDialog.tsx
â”‚   â”œâ”€â”€ ImageGenerationDialog.tsx
â”‚   â”œâ”€â”€ McpToolsDialog.tsx
â”‚   â”œâ”€â”€ VoiceInputDialog.tsx
â”‚   â””â”€â”€ ImageViewer.tsx
â”œâ”€â”€ sidebar/
â”‚   â”œâ”€â”€ ChatSidebar.tsx
â”‚   â”œâ”€â”€ TopicsSidebar.tsx
â”‚   â””â”€â”€ ChatHeader.tsx
â”œâ”€â”€ menus/
â”‚   â”œâ”€â”€ MoreActionsMenu.tsx
â”‚   â””â”€â”€ AttachmentMenu.tsx
â”œâ”€â”€ other/
â”‚   â”œâ”€â”€ ChatSettings.tsx
â”‚   â”œâ”€â”€ GeneratedImageCard.tsx
â”‚   â”œâ”€â”€ SearchLoadingIndicator.tsx
â”‚   â””â”€â”€ TypingIndicator.tsx
```

#### components/common/ - é€šç”¨ç»„ä»¶ï¼ˆ4 ä¸ªæ–‡ä»¶ï¼Œ~23 KBï¼‰
```
components/common/
â”œâ”€â”€ ConfirmDialog.tsx        (2.8 KB)  - ç¡®è®¤å¯¹è¯æ¡†
â”œâ”€â”€ InputDialog.tsx          (ä¸è¯¦) - è¾“å…¥å¯¹è¯æ¡†
â”œâ”€â”€ UnifiedDialog.tsx        (371 KB)  - ç»Ÿä¸€å¯¹è¯æ¡†ã€éœ€è¦æŸ¥çœ‹ã€‘
â””â”€â”€ UserAvatar.tsx           (1.5 KB)  - ç”¨æˆ·å¤´åƒ
```

#### components/providers/ - Context æä¾›è€…ï¼ˆ4 ä¸ªæ–‡ä»¶ï¼Œ~15 KBï¼‰
```
components/providers/
â”œâ”€â”€ ThemeProvider.tsx        (4.1 KB)  - ä¸»é¢˜ä¸Šä¸‹æ–‡
â”œâ”€â”€ DataProvider.tsx         (4.6 KB)  - æ•°æ®ä¸Šä¸‹æ–‡
â”œâ”€â”€ SettingsProvider.tsx     (3.5 KB)  - è®¾ç½®ä¸Šä¸‹æ–‡
â”œâ”€â”€ HiddenWebViewHost.tsx    (2.8 KB)  - éšè— WebView ä¸»æœº
â””â”€â”€ CLAUDE.md                (3.2 KB)  - æ¨¡å—æ–‡æ¡£
```

#### components/settings/ - è®¾ç½®ç›¸å…³ç»„ä»¶ï¼ˆ4 ä¸ªæ–‡ä»¶ï¼‰
```
components/settings/
â”œâ”€â”€ SettingScreen.tsx        (ä¸è¯¦)    - è®¾ç½®å±å¹•
â”œâ”€â”€ SettingsList.tsx         (ä¸è¯¦)    - è®¾ç½®åˆ—è¡¨
â”œâ”€â”€ ModelDiscoveryDialog.tsx  (ä¸è¯¦)    - æ¨¡å‹å‘ç°å¯¹è¯æ¡†
â””â”€â”€ QuickPhraseEditDialog.tsx (417 KB) - å¿«æ·çŸ­è¯­ç¼–è¾‘å¯¹è¯æ¡†
```

---

### ğŸš€ services/ - ä¸šåŠ¡æœåŠ¡å±‚ï¼ˆ25 ä¸ªæ–‡ä»¶ï¼‰

#### services/ai/ - AI é›†æˆå’Œæ¨¡å‹ï¼ˆ10 ä¸ªæ–‡ä»¶ï¼Œ~100 KBï¼‰
```
services/ai/
â”œâ”€â”€ AiClient.ts              (596 è¡Œ, 22.7 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ AI æä¾›å•†é›†æˆ
â”‚   â”œâ”€â”€ æµå¼å“åº”å¤„ç†
â”‚   â”œâ”€â”€ æ€è€ƒé“¾åˆ†ç¦»
â”‚   â””â”€â”€ ä»¤ç‰Œè®¡ç®—
â”œâ”€â”€ ModelCapabilities.ts     (494 è¡Œ, 15.7 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ æ¨¡å‹èƒ½åŠ›çŸ©é˜µ
â”‚   â”œâ”€â”€ åŠŸèƒ½æ£€æµ‹ (æ¨ç†ã€æœç´¢ã€è§†è§‰ç­‰)
â”‚   â””â”€â”€ æ¨¡å‹åˆ†ç±»
â”œâ”€â”€ ModelDiscovery.ts        (5.5 KB)
â”‚   â””â”€â”€ åŠ¨æ€æ¨¡å‹å‘ç°
â”œâ”€â”€ CustomModelDiscovery.ts  (1.2 KB)
â”‚   â””â”€â”€ è‡ªå®šä¹‰æ¨¡å‹å‘ç°
â”œâ”€â”€ ModelValidation.ts       (1.4 KB)
â”‚   â””â”€â”€ æ¨¡å‹éªŒè¯åŸºç¡€
â”œâ”€â”€ CustomModelValidation.ts (1.2 KB)
â”‚   â””â”€â”€ è‡ªå®šä¹‰æ¨¡å‹éªŒè¯
â”œâ”€â”€ modelValidationHelper.ts (4.3 KB)
â”‚   â””â”€â”€ æ¨¡å‹éªŒè¯è¾…åŠ©å‡½æ•°
â”œâ”€â”€ TopicNaming.ts           (3.2 KB)
â”‚   â””â”€â”€ è‡ªåŠ¨è¯é¢˜å‘½å
â”œâ”€â”€ errors.ts                (3.8 KB)
â”‚   â””â”€â”€ AI ç›¸å…³é”™è¯¯å®šä¹‰
â”œâ”€â”€ mcpIntegration.ts        (307 è¡Œ, 9.3 KB)
â”‚   â””â”€â”€ MCP å·¥å…·é›†æˆ
â””â”€â”€ CLAUDE.md                (3.8 KB)  - æ¨¡å—æ–‡æ¡£
```

**åˆ†æ**:
- âœ… åŠŸèƒ½åˆ†ç¦»æ¸…æ™°ï¼šAI å®¢æˆ·ç«¯ã€æ¨¡å‹èƒ½åŠ›ã€éªŒè¯ã€é›†æˆå„è‡ªç‹¬ç«‹
- âœ… æ”¯æŒè‡ªå®šä¹‰æ¨¡å‹å’Œæ ‡å‡†æ¨¡å‹çš„åŒè½¨åˆ¶
- âš ï¸ AiClient.ts å’Œ ModelCapabilities.ts éƒ½æ˜¯å¤§æ–‡ä»¶ï¼Œéœ€è¦è¿›ä¸€æ­¥åˆ†è§£

#### services/mcp/ - MCP å·¥å…·é›†æˆï¼ˆ2 ä¸ªæ–‡ä»¶ + 1 å­ç›®å½•ï¼‰
```
services/mcp/
â”œâ”€â”€ McpClient.ts             (681 è¡Œ, 26.3 KB) ã€è¶…å¤§æ–‡ä»¶âš ï¸ã€‘
â”‚   â”œâ”€â”€ MCP è¿æ¥ç®¡ç†
â”‚   â”œâ”€â”€ å·¥å…·å‘ç°å’Œè°ƒç”¨
â”‚   â””â”€â”€ ä¼ è¾“å±‚é›†æˆ
â”œâ”€â”€ CacheManager.ts          (366 è¡Œ, 14.1 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ å·¥å…·ç»“æœç¼“å­˜
â”‚   â”œâ”€â”€ ç¼“å­˜è¿‡æœŸç®¡ç†
â”‚   â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
â””â”€â”€ transport/               (1 ä¸ªæ–‡ä»¶)
    â””â”€â”€ (WebSocket/stdio ä¼ è¾“å®ç°)
```

**åˆ†æ**: McpClient.ts æ˜¯æ•´ä¸ªé¡¹ç›®ç¬¬äºŒå¤§æ–‡ä»¶ï¼ˆ681 è¡Œï¼‰ï¼Œéœ€è¦ä¼˜å…ˆè€ƒè™‘æ‹†åˆ†ã€‚

#### services/search/ - ç½‘ç»œæœç´¢ï¼ˆ5 ä¸ªæ–‡ä»¶ + 2 å­ç›®å½•ï¼‰
```
services/search/
â”œâ”€â”€ SearchClient.ts          (3.1 KB)  - æœç´¢å®¢æˆ·ç«¯æ¥å£
â”œâ”€â”€ types.ts                 (1.6 KB)  - ç±»å‹å®šä¹‰
â”œâ”€â”€ CLAUDE.md                (5.5 KB)  - æ¨¡å—æ–‡æ¡£
â”œâ”€â”€ engines/                 (3 ä¸ªå¼•æ“)
â”‚   â”œâ”€â”€ BingSearch.ts        (3.1 KB)  - Bing æœç´¢
â”‚   â”œâ”€â”€ GoogleSearch.ts      (3.7 KB)  - Google æœç´¢
â”‚   â””â”€â”€ TavilySearch.ts      (4.3 KB)  - Tavily æœç´¢
â””â”€â”€ utils/                   (4 ä¸ªå·¥å…·)
    â”œâ”€â”€ html-parser.ts       (7.5 KB)  - HTML è§£æ
    â”œâ”€â”€ http-client.ts       (2.5 KB)  - HTTP å®¢æˆ·ç«¯
    â”œâ”€â”€ search-cache.ts      (4.0 KB)  - æœç´¢ç¼“å­˜
    â””â”€â”€ user-agents.ts       (3.1 KB)  - UA æ± ç®¡ç†
```

#### services/data/ - æ•°æ®ç®¡ç†ï¼ˆ3 ä¸ªæ–‡ä»¶ï¼‰
```
services/data/
â”œâ”€â”€ DataBackup.ts            (æœªè¯¦)   - æ•°æ®å¤‡ä»½
â”œâ”€â”€ DataCleanup.ts           (æœªè¯¦)   - æ•°æ®æ¸…ç†
â””â”€â”€ DataStats.ts             (æœªè¯¦)   - æ•°æ®ç»Ÿè®¡
```

#### services/voice/ - è¯­éŸ³è¯†åˆ«ï¼ˆ3 ä¸ªæ–‡ä»¶ï¼‰
```
services/voice/
â”œâ”€â”€ VoiceRecognition.ts      (ç±»ä¼¼ < 100 è¡Œ)
â”œâ”€â”€ NativeRecognition.ts     (è®¾å¤‡ç«¯è¯†åˆ«)
â””â”€â”€ WhisperRecognition.ts    (407 è¡Œ) - OpenAI Whisper API
```

#### services/messageStreaming/ - æ¶ˆæ¯æµç®¡ç†ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
```
services/messageStreaming/
â””â”€â”€ BlockManager.ts          (æ¶ˆæ¯å—ç®¡ç†)
```

#### services/webview/ - WebView æœåŠ¡ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
```
services/webview/
â””â”€â”€ HiddenWebViewClient.ts   (åçˆ¬è™«éšè— WebView)
```

---

### ğŸ’¾ storage/ - æ•°æ®å­˜å‚¨å±‚ï¼ˆ15 ä¸ªæ–‡ä»¶ï¼‰

#### storage/repositories/ - æ•°æ®è®¿é—®å±‚ï¼ˆ12 ä¸ªæ–‡ä»¶ï¼Œ~84 KBï¼‰
```
storage/repositories/
â”œâ”€â”€ chat.ts                  (4.4 KB)  - èŠå¤©ä¼šè¯æ“ä½œ
â”œâ”€â”€ messages.ts              (7.4 KB)  - æ¶ˆæ¯æ“ä½œ
â”œâ”€â”€ assistants.ts            (5.2 KB)  - åŠ©æ‰‹ç®¡ç†
â”œâ”€â”€ providers.ts             (1.2 KB)  - AI æä¾›å•†
â”œâ”€â”€ custom-providers.ts      (2.1 KB)  - è‡ªå®šä¹‰æä¾›å•†
â”œâ”€â”€ provider-models.ts       (2.1 KB)  - æä¾›å•†æ¨¡å‹æ˜ å°„
â”œâ”€â”€ attachments.ts           (7.2 KB)  - é™„ä»¶ç®¡ç†
â”œâ”€â”€ settings.ts              (2.6 KB)  - åº”ç”¨è®¾ç½®
â”œâ”€â”€ quick-phrases.ts         (4.7 KB)  - å¿«æ·çŸ­è¯­
â”œâ”€â”€ mcp.ts                   (6.2 KB)  - MCP æœåŠ¡å™¨é…ç½®
â”œâ”€â”€ message-blocks.ts        (6.3 KB)  - æ¶ˆæ¯å—ï¼ˆæ€è€ƒé“¾ã€å·¥å…·ç»“æœï¼‰
â””â”€â”€ thinking-chains.ts       (4.5 KB)  - æ€è€ƒé“¾æ•°æ®
```

**åˆ†æ**: 
- âœ… èŒè´£åˆ†ç¦»æ¸…æ™°ï¼šæ¯ä¸ª repository å¯¹åº”ä¸€ä¸ªæ•°æ®å®ä½“
- âœ… ç²’åº¦é€‚å½“ï¼šæ¯ä¸ªæ–‡ä»¶ 1-7 KBï¼Œè§„æ¨¡åˆç†
- âœ… å¯ç»´æŠ¤æ€§å¼ºï¼šé€šè¿‡ repositories æ¨¡å¼éš”ç¦»æ•°æ®æ“ä½œ

#### storage/sqlite/ - æ•°æ®åº“ç®¡ç†ï¼ˆ2 ä¸ªæ–‡ä»¶ï¼‰
```
storage/sqlite/
â”œâ”€â”€ db.ts                    (æ•°æ®åº“è¿æ¥å’Œåˆå§‹åŒ–)
â””â”€â”€ migrations/
    â””â”€â”€ 0001_init.ts         (åˆå§‹åŒ–è¿ç§»è„šæœ¬)
```

#### storage/adapters/ - å­˜å‚¨é€‚é…å™¨ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
```
storage/adapters/
â””â”€â”€ async-storage.ts         (è·¨å¹³å°å­˜å‚¨é€‚é…å™¨)
```

#### storage/core.ts - æ ¸å¿ƒç±»å‹å®šä¹‰ï¼ˆ4.7 KBï¼‰
```
æ ¸å¿ƒæ•°æ®æ¨¡å‹å®šä¹‰:
- Chat (ä¼šè¯)
- Message (æ¶ˆæ¯)
- Attachment (é™„ä»¶)
- Provider (AI æä¾›å•†)
- etc.
```

---

### ğŸ£ hooks/ - React Hooks ä¸šåŠ¡é€»è¾‘ï¼ˆ13 ä¸ªæ–‡ä»¶ï¼Œ~129 KBï¼‰

```
hooks/
â”œâ”€â”€ use-message-sender.ts    (705 è¡Œ, 26.3 KB) ã€è¶…å¤§æ–‡ä»¶âš ï¸ã€‘
â”‚   â”œâ”€â”€ æ¶ˆæ¯å‘é€æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ AI å“åº”å¤„ç†
â”‚   â”œâ”€â”€ é”™è¯¯å¤„ç†
â”‚   â””â”€â”€ æµå¼å“åº”ç®¡ç†
â”œâ”€â”€ use-voice-recognition.ts (407 è¡Œ, 12.9 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ è¯­éŸ³è¯†åˆ«é›†æˆ
â”‚   â””â”€â”€ æƒé™ç®¡ç†
â”œâ”€â”€ use-web-search.ts        (8.1 KB) - ç½‘ç»œæœç´¢ Hook
â”œâ”€â”€ use-image-generation.ts  (6.8 KB) - å›¾ç‰‡ç”Ÿæˆ Hook
â”œâ”€â”€ use-conversations.ts     (0.9 KB) - ä¼šè¯åˆ—è¡¨
â”œâ”€â”€ use-messages.ts          (2.1 KB) - æ¶ˆæ¯æ“ä½œ
â”œâ”€â”€ use-setting.ts           (1.1 KB) - è®¾ç½®è·å–
â”œâ”€â”€ use-quick-phrases.ts     (3.5 KB) - å¿«æ·çŸ­è¯­
â”œâ”€â”€ use-confirm-dialog.tsx   (6.1 KB) - ç¡®è®¤å¯¹è¯æ¡†
â”œâ”€â”€ use-user-profile.ts      (4.8 KB) - ç”¨æˆ·æ¡£æ¡ˆ
â”œâ”€â”€ use-voice-recording.ts   (4.4 KB) - è¯­éŸ³å½•åˆ¶
â”œâ”€â”€ use-microphone-permission.ts (3.0 KB) - éº¦å…‹é£æƒé™
â”œâ”€â”€ use-color-scheme.ts      (47 bytes) - é¢œè‰²ä¸»é¢˜
â””â”€â”€ CLAUDE.md                (8.6 KB) - æ¨¡å—æ–‡æ¡£
```

**åˆ†æ**:
- âš ï¸ **use-message-sender.ts æ˜¯æœ€å¤§çš„ä¸šåŠ¡é€»è¾‘æ–‡ä»¶**ï¼ˆ705 è¡Œï¼Œé¡¹ç›®æœ€å¤§ï¼‰
- âœ… å…¶ä»– Hooks ç²’åº¦é€‚å½“ï¼Œé€šå¸¸ < 10 KB
- ğŸ”´ use-message-sender.ts éœ€è¦æ‹†åˆ†ï¼ˆå»ºè®®åˆ†ä¸º messageã€streamã€error å­æ¨¡å—ï¼‰

---

### âš™ï¸ constants/ - å¸¸é‡å’Œé…ç½®ï¼ˆ4 ä¸ªæ–‡ä»¶ï¼‰

```
constants/
â”œâ”€â”€ theme.ts                 (1.9 KB)
â”‚   â”œâ”€â”€ é¢œè‰²æ–¹æ¡ˆ
â”‚   â””â”€â”€ å°ºå¯¸é…ç½®
â”œâ”€â”€ assistants.ts            (6.2 KB)
â”‚   â”œâ”€â”€ é¢„è®¾åŠ©æ‰‹
â”‚   â””â”€â”€ ç³»ç»Ÿæç¤ºè¯
â”œâ”€â”€ prompts.ts               (22.4 KB) ã€é…ç½®æ–‡ä»¶ï¼Œä½†è¡Œæ•°å¤šã€‘
â”‚   â”œâ”€â”€ æç¤ºè¯æ¨¡æ¿åº“
â”‚   â”œâ”€â”€ æ¨ç†æ¨¡å‹æç¤º
â”‚   â””â”€â”€ æœç´¢ç›¸å…³æç¤º
â”œâ”€â”€ mcp.ts                   (3.3 KB)
â”‚   â””â”€â”€ MCP é…ç½®å¸¸é‡
â””â”€â”€ CLAUDE.md                (10.8 KB) - æ¨¡å—æ–‡æ¡£
```

**åˆ†æ**:
- âœ… é…ç½®åˆ†ç±»æ¸…æ™°
- âš ï¸ prompts.ts è™½ç„¶è¡Œæ•°å¤šï¼ˆ22.4 KBï¼‰ä½†æ˜¯é…ç½®æ–‡ä»¶ï¼Œå†…å®¹ç»“æ„åŒ–
- ğŸ”¶ å¯è€ƒè™‘æŒ‰æ¨¡å‹ç±»å‹æˆ–åŠŸèƒ½è¿›ä¸€æ­¥ç»†åˆ† prompts

---

### ğŸ› ï¸ utils/ - å·¥å…·å‡½æ•°åº“ï¼ˆ8 ä¸ªæ–‡ä»¶ï¼Œ~94 KBï¼‰

```
utils/
â”œâ”€â”€ logger.ts                (382 è¡Œ, 9.8 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ
â”‚   â”œâ”€â”€ å¤šæ—¥å¿—çº§åˆ«
â”‚   â””â”€â”€ å‘½åç©ºé—´æ”¯æŒ
â”œâ”€â”€ mcpTool.ts               (605 è¡Œ, 15.9 KB) ã€è¶…å¤§æ–‡ä»¶âš ï¸ã€‘
â”‚   â”œâ”€â”€ MCP å·¥å…·è½¬æ¢
â”‚   â”œâ”€â”€ å‚æ•°éªŒè¯
â”‚   â””â”€â”€ ç»“æœæ ¼å¼åŒ–
â”œâ”€â”€ mcpSchema.ts             (4.9 KB)
â”‚   â””â”€â”€ MCP ç±»å‹å®šä¹‰
â”œâ”€â”€ render-cache.ts          (317 è¡Œ, 8.8 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ æ¸²æŸ“ç¼“å­˜ç®¡ç†
â”‚   â””â”€â”€ æ€§èƒ½ä¼˜åŒ–
â”œâ”€â”€ model-logo.ts            (7.8 KB)
â”‚   â””â”€â”€ æ¨¡å‹ Logo æ˜ å°„
â”œâ”€â”€ events.ts                (4.1 KB)
â”‚   â””â”€â”€ äº‹ä»¶æ€»çº¿
â”œâ”€â”€ http.ts                  (227 bytes)
â”‚   â””â”€â”€ HTTP å·¥å…· (è–„åŒ…è£…)
â”œâ”€â”€ classnames.ts            (442 bytes)
â”‚   â””â”€â”€ æ ·å¼ç±»åå·¥å…·
â””â”€â”€ CLAUDE.md                (16.6 KB) - æ¨¡å—æ–‡æ¡£
```

**åˆ†æ**:
- âš ï¸ mcpTool.ts æ˜¯é¡¹ç›®ç¬¬ä¸‰å¤§æ–‡ä»¶ï¼ˆ605 è¡Œï¼‰ï¼Œæ¶‰åŠ MCP å·¥å…·è½¬æ¢é€»è¾‘
- âœ… logger.ts è™½ç„¶å¤§ä½†èŒè´£å•ä¸€ï¼Œå¯ç»´æŠ¤æ€§å¼º
- âœ… å…¶ä»–å·¥å…·å‡½æ•°ç²’åº¦é€‚å½“

---

### ğŸ“‹ types/ - ç±»å‹å®šä¹‰ï¼ˆ3 ä¸ªæ–‡ä»¶ï¼Œ~15 KBï¼‰

```
types/
â”œâ”€â”€ mcp.ts                   (500 è¡Œ, 13.2 KB) ã€å¤§æ–‡ä»¶ã€‘
â”‚   â”œâ”€â”€ MCP åè®®ç±»å‹å®Œæ•´å®šä¹‰
â”‚   â””â”€â”€ å·¥å…·ã€èµ„æºã€æç¤ºç±»å‹
â”œâ”€â”€ tool.ts                  (1.9 KB)
â”‚   â””â”€â”€ å·¥å…·ç›¸å…³ç±»å‹
â””â”€â”€ assistant.ts             (1.3 KB)
    â””â”€â”€ åŠ©æ‰‹ç±»å‹å®šä¹‰
```

**åˆ†æ**: 
- types/mcp.ts è¾ƒå¤§ï¼ˆ500 è¡Œï¼‰ä½†æ˜¯çº¯ç±»å‹å®šä¹‰ï¼Œå¯ç»´æŠ¤æ€§å¼º
- å¯è€ƒè™‘æŒ‰ MCP åŠŸèƒ½æ¨¡å—ï¼ˆtoolã€resourceã€prompt ç­‰ï¼‰æ‹†åˆ†

---

## ä¸‰ã€æ–‡ä»¶å¯†é›†åº¦è¯„ä¼°

### ğŸ”´ é«˜å±åŒºåŸŸï¼ˆéœ€è¦é‡ç‚¹ä¼˜åŒ–ï¼‰

| åŒºåŸŸ | æ–‡ä»¶æ•° | æœ€å¤§æ–‡ä»¶ | æ€»å¤§å° | å»ºè®® |
|------|--------|----------|--------|------|
| **components/chat/** | 28 | MessageBubble.tsx (516 è¡Œ) | 280 KB | åˆ†è§£ä¸º 6-7 ä¸ªå­ç›®å½• |
| **hooks/** | 13 | use-message-sender.ts (705 è¡Œ) | 129 KB | æ‹†åˆ†æœ€å¤§ Hookï¼Œå…¶ä»–ä¿æŒ |
| **services/mcp/** | 2 | McpClient.ts (681 è¡Œ) | ~40 KB | æ‹†åˆ† McpClient è‡³å°‘ 3 ä¸ªæ¨¡å— |
| **utils/** | 8 | mcpTool.ts (605 è¡Œ) | 94 KB | æ‹†åˆ† mcpTool å’Œ logger |

### ğŸŸ¡ ä¸­ç­‰å…³æ³¨åŒºåŸŸ

| åŒºåŸŸ | æ–‡ä»¶æ•° | è¯´æ˜ | å»ºè®® |
|------|--------|------|------|
| services/ai | 10 | åŠŸèƒ½åˆ†ç¦»æ¸…æ™°ï¼Œä½†éƒ¨åˆ†æ–‡ä»¶è¾ƒå¤§ | è€ƒè™‘åˆå¹¶ç›¸å…³éªŒè¯æ–‡ä»¶ |
| app/settings | 12 | åŠŸèƒ½åˆ†æ•£åœ¨å¤šä¸ªé¡µé¢ | ä¿æŒç°çŠ¶ï¼ˆExpo Router æ¨èï¼‰ |
| storage/repositories | 12 | ç²’åº¦è‰¯å¥½ | ä¿æŒç°çŠ¶ |

### ğŸŸ¢ è‰¯å¥½åŒºåŸŸ

| åŒºåŸŸ | è¯´æ˜ |
|------|------|
| components/common | 4 ä¸ªæ–‡ä»¶ï¼ŒåŠŸèƒ½æ¸…æ™°ï¼Œä¸è¶…è¿‡ 3 KB |
| components/providers | 4 ä¸ªæ–‡ä»¶ï¼ŒContext é€šå¸¸è¾ƒå° |
| constants/ | é…ç½®æ–‡ä»¶ï¼Œé€‚å½“é›†ä¸­ |
| storage/sqlite | æ•°æ®åº“æ¨¡å—ï¼Œ1-2 ä¸ªæ–‡ä»¶åˆç† |

---

## å››ã€å¤§æ–‡ä»¶æ’è¡Œæ¦œï¼ˆTop 30ï¼‰

### ä»£ç è¡Œæ•°æ’å

| æ’å | æ–‡ä»¶ | è¡Œæ•° | å¤§å° | åˆ†ç±» | ä¼˜å…ˆçº§ |
|------|------|------|------|------|--------|
| 1 | hooks/use-message-sender.ts | 705 | 26.3 KB | ä¸šåŠ¡é€»è¾‘ | ğŸ”´é«˜ |
| 2 | services/mcp/McpClient.ts | 681 | 26.3 KB | å·¥å…·é›†æˆ | ğŸ”´é«˜ |
| 3 | utils/mcpTool.ts | 605 | 15.9 KB | å·¥å…·å‡½æ•° | ğŸ”´é«˜ |
| 4 | app/settings/mcp-server.tsx | 597 | 18.9 KB | è®¾ç½®é¡µé¢ | ğŸŸ¡ä¸­ |
| 5 | services/ai/AiClient.ts | 596 | 22.7 KB | AI é›†æˆ | ğŸŸ¡ä¸­ |
| 6 | components/chat/MessageBubble.tsx | 516 | 18.2 KB | UI ç»„ä»¶ | ğŸŸ¡ä¸­ |
| 7 | types/mcp.ts | 500 | 13.2 KB | ç±»å‹å®šä¹‰ | ğŸŸ¢ä½ |
| 8 | services/ai/ModelCapabilities.ts | 494 | 15.7 KB | æ¨¡å‹ç®¡ç† | ğŸŸ¡ä¸­ |
| 9 | components/chat/TopicsSidebar.tsx | 487 | 15.9 KB | UI ç»„ä»¶ | ğŸŸ¡ä¸­ |
| 10 | components/chat/ImageGenerationDialog.tsx | 483 | 16.0 KB | å¯¹è¯æ¡† | ğŸŸ¡ä¸­ |

**å…¶ä»–å¤§æ–‡ä»¶**:
- 11. MoreActionsMenu.tsx (472 è¡Œ)
- 12. ChatInput.tsx (456 è¡Œ)
- 13. ChatSidebar.tsx (425 è¡Œ)
- 14. QuickPhraseEditDialog.tsx (417 è¡Œ)
- 15. MathJaxRenderer.tsx (410 è¡Œ)
- 16. use-voice-recognition.ts (407 è¡Œ)
- 17. data-settings.tsx (398 è¡Œ)
- 18. logger.ts (382 è¡Œ)
- 19. ImageViewer.tsx (373 è¡Œ)
- 20. UnifiedDialog.tsx (371 è¡Œ)

---

## äº”ã€ä»£ç ç»„ç»‡è¯„ä¼°

### âœ… ä¼˜ç‚¹

1. **åŠŸèƒ½æ¨¡å—åŒ–æ¸…æ™°**
   - services/ æŒ‰åŠŸèƒ½åˆ†ç±»ï¼šaiã€searchã€voiceã€mcpã€data ç­‰
   - components/ æŒ‰å±‚çº§åˆ†ç±»ï¼šchatã€commonã€providersã€settings
   - storage/ æŒ‰èŒè´£åˆ†å±‚ï¼šrepositoriesã€sqliteã€adapters

2. **æ•°æ®æµæ¸…æ™°**
   - æ•°æ®å±‚ï¼ˆstorage/repositoriesï¼‰
   - æœåŠ¡å±‚ï¼ˆservices/*ï¼‰
   - Hook å±‚ï¼ˆhooks/*ï¼‰
   - UI å±‚ï¼ˆcomponents/*ã€app/*ï¼‰

3. **ç±»å‹å®‰å…¨å®Œæ•´**
   - types/ ç›®å½•ä¸“é—¨å­˜æ”¾ç±»å‹å®šä¹‰
   - TypeScript ä¸¥æ ¼æ¨¡å¼

4. **é…ç½®é›†ä¸­**
   - constants/ ç»Ÿä¸€ç®¡ç†é…ç½®å’Œå¸¸é‡
   - å•ä¸€æ•°æ®æºåŸåˆ™

### âš ï¸ é—®é¢˜

1. **components/chat/ æ–‡ä»¶å †ç§¯**
   - 28 ä¸ªæ–‡ä»¶å…¨éƒ¨å¹³é“ºåœ¨ä¸€ä¸ªç›®å½•ä¸‹
   - æ–‡ä»¶åå¾ˆé•¿ï¼Œéš¾ä»¥å¿«é€Ÿå®šä½
   - åŠŸèƒ½åˆ†ç±»ä¸æ˜æ˜¾

2. **è¶…å¤§æ–‡ä»¶ç¼ºä¹æ‹†åˆ†**
   - use-message-sender.ts (705 è¡Œ) - æ¶ˆæ¯å‘é€æ ¸å¿ƒé€»è¾‘è¿‡åº¦æµ“é›†
   - McpClient.ts (681 è¡Œ) - MCP åè®®å®ç°å’Œå·¥å…·è°ƒç”¨æ··åœ¨ä¸€èµ·
   - mcpTool.ts (605 è¡Œ) - MCP å·¥å…·è½¬æ¢é€»è¾‘é›†ä¸­

3. **ç›¸å…³åŠŸèƒ½åˆ†æ•£**
   - MCP ç›¸å…³ä»£ç åˆ†æ•£åœ¨ï¼šservices/mcp/ã€utils/mcpTool.tsã€types/mcp.tsã€constants/mcp.ts
   - æœç´¢ç›¸å…³ä»£ç åˆ†æ•£åœ¨ï¼šservices/search/ã€hooks/use-web-search.ts

4. **hooks/ æ–‡ä»¶æ‚ç³…**
   - 13 ä¸ª Hooks ç¼ºä¹åˆ†ç±»
   - ä¸šåŠ¡é€»è¾‘ (use-message-sender) å’ŒåŸºç¡€å·¥å…· (use-color-scheme) æ··åœ¨ä¸€èµ·

---

## å…­ã€ä¼˜åŒ–å»ºè®®

### ç«‹å³ä¼˜åŒ–ï¼ˆHigh Priorityï¼‰

#### 1. æ‹†åˆ† components/chat/

å»ºè®®ç»“æ„ï¼š
```
components/chat/
â”œâ”€â”€ message/          (æ¶ˆæ¯å±•ç¤ºç›¸å…³ï¼Œ8 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ MessageList.tsx
â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”œâ”€â”€ ThinkingBlock.tsx
â”‚   â”œâ”€â”€ ToolBlock.tsx
â”‚   â”œâ”€â”€ TypingIndicator.tsx
â”‚   â””â”€â”€ renderers/
â”‚       â”œâ”€â”€ MarkdownRenderer.tsx
â”‚       â”œâ”€â”€ MathJaxRenderer.tsx
â”‚       â””â”€â”€ MixedRenderer.tsx
â”œâ”€â”€ input/            (è¾“å…¥ç›¸å…³ï¼Œ7 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ ChatInput.tsx
â”‚   â”œâ”€â”€ ChatInputField.tsx
â”‚   â”œâ”€â”€ ChatInputToolbar.tsx
â”‚   â”œâ”€â”€ VoiceInputButton.tsx
â”‚   â””â”€â”€ attachments/
â”‚       â”œâ”€â”€ AttachmentChips.tsx
â”‚       â”œâ”€â”€ AttachmentMenu.tsx
â”‚       â””â”€â”€ VoiceInputDialog.tsx
â”œâ”€â”€ dialogs/          (å„ç±»å¯¹è¯æ¡†ï¼Œ7 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ AssistantPickerDialog.tsx
â”‚   â”œâ”€â”€ ModelPickerDialog.tsx
â”‚   â”œâ”€â”€ QuickPhrasePickerDialog.tsx
â”‚   â”œâ”€â”€ ImageGenerationDialog.tsx
â”‚   â”œâ”€â”€ McpToolsDialog.tsx
â”‚   â”œâ”€â”€ ImageViewer.tsx
â”‚   â””â”€â”€ VoiceInputDialog.tsx (ç§»å…¥)
â”œâ”€â”€ sidebar/          (ä¾§è¾¹æ ï¼Œ3 ä¸ªæ–‡ä»¶)
â”‚   â”œâ”€â”€ ChatSidebar.tsx
â”‚   â”œâ”€â”€ TopicsSidebar.tsx
â”‚   â””â”€â”€ ChatHeader.tsx
â”œâ”€â”€ menus/            (èœå•ç»„ä»¶ï¼Œ2 ä¸ªæ–‡ä»¶)
â”‚   â””â”€â”€ MoreActionsMenu.tsx
â””â”€â”€ misc/             (å…¶ä»–ç»„ä»¶ï¼Œ3 ä¸ªæ–‡ä»¶)
    â”œâ”€â”€ ChatSettings.tsx
    â”œâ”€â”€ GeneratedImageCard.tsx
    â””â”€â”€ SearchLoadingIndicator.tsx

å¯¼å‡ºæ–‡ä»¶ç»“æ„:
// components/chat/index.ts
export { MessageList, MessageBubble, ... } from './message/';
export { ChatInput, ... } from './input/';
// ...ä¿æŒå‘åå…¼å®¹
```

**å½±å“**:
- âœ… ç›®å½•ç»“æ„æ›´æ¸…æ™°
- âœ… æ–‡ä»¶æŸ¥æ‰¾æ›´å¿«
- âœ… ç»„ä»¶è€¦åˆåº¦é™ä½
- âš ï¸ import è·¯å¾„å˜é•¿ï¼ˆå¯ç”¨ index.ts å¯¼å‡ºä¿æŒå…¼å®¹ï¼‰

#### 2. æ‹†åˆ† hooks/use-message-sender.tsï¼ˆ705 è¡Œï¼‰

å»ºè®®æ‹†åˆ†ä¸ºï¼š
```
hooks/
â”œâ”€â”€ use-message-sender/
â”‚   â”œâ”€â”€ index.ts              (ä¸»å¯¼å‡ºï¼ŒåŒ…å«ä¸» Hookï¼Œ< 100 è¡Œ)
â”‚   â”œâ”€â”€ sendMessage.ts        (æ¶ˆæ¯å‘é€é€»è¾‘ï¼Œ~ 200 è¡Œ)
â”‚   â”œâ”€â”€ handleAiResponse.ts   (AI å“åº”å¤„ç†ï¼Œ~ 200 è¡Œ)
â”‚   â”œâ”€â”€ handleErrors.ts       (é”™è¯¯å¤„ç†ï¼Œ~ 100 è¡Œ)
â”‚   â”œâ”€â”€ streamHandlers.ts     (æµå¤„ç†å·¥å…·ï¼Œ~ 100 è¡Œ)
â”‚   â””â”€â”€ types.ts              (ç±»å‹å®šä¹‰)
```

#### 3. æ‹†åˆ† services/mcp/McpClient.tsï¼ˆ681 è¡Œï¼‰

å»ºè®®æ‹†åˆ†ä¸ºï¼š
```
services/mcp/
â”œâ”€â”€ McpClient.ts              (ä¸»å®¢æˆ·ç«¯ï¼Œ< 200 è¡Œï¼Œä»…åè°ƒ)
â”œâ”€â”€ connection/
â”‚   â”œâ”€â”€ ConnectionManager.ts  (è¿æ¥ç®¡ç†)
â”‚   â””â”€â”€ transport.ts          (ä¼ è¾“å±‚)
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ ToolManager.ts        (å·¥å…·ç®¡ç†)
â”‚   â”œâ”€â”€ ToolExecutor.ts       (å·¥å…·æ‰§è¡Œ)
â”‚   â””â”€â”€ ToolConverter.ts      (å·¥å…·è½¬æ¢) - å¯ç§»å…¥æˆ–åˆå¹¶ utils/mcpTool
â”œâ”€â”€ caching/
â”‚   â”œâ”€â”€ CacheManager.ts       (å·²æœ‰ï¼Œä½†å¯ä¼˜åŒ–)
â”‚   â””â”€â”€ CacheStrategy.ts      (ç¼“å­˜ç­–ç•¥)
â””â”€â”€ handlers/
    â”œâ”€â”€ ErrorHandler.ts       (é”™è¯¯å¤„ç†)
    â””â”€â”€ ResponseHandler.ts    (å“åº”å¤„ç†)
```

#### 4. æ‹†åˆ† utils/mcpTool.tsï¼ˆ605 è¡Œï¼‰

å»ºè®®åˆå¹¶æˆ–ä¼˜åŒ–ï¼š
```
utils/
â”œâ”€â”€ mcp/
â”‚   â”œâ”€â”€ toolConverter.ts      (å·¥å…·è½¬æ¢ 200-250 è¡Œ)
â”‚   â”œâ”€â”€ parameterValidator.ts (å‚æ•°éªŒè¯ 100-150 è¡Œ)
â”‚   â”œâ”€â”€ resultFormatter.ts    (ç»“æœæ ¼å¼åŒ– 100-150 è¡Œ)
â”‚   â””â”€â”€ types.ts              (ç±»å‹å®šä¹‰)
// æˆ–: éƒ¨åˆ†é€»è¾‘è¿ç§»åˆ° services/mcp/tools/
```

### åæœŸä¼˜åŒ–ï¼ˆMedium Priorityï¼‰

#### 5. ç»„ç»‡ MCP ç›¸å…³ä»£ç 
```
ç›®å‰åˆ†æ•£åœ¨:
- services/mcp/McpClient.ts + CacheManager.ts
- utils/mcpTool.ts
- types/mcp.ts
- constants/mcp.ts
- app/settings/mcp-server.tsx

å»ºè®®åˆ›å»ºç»Ÿä¸€ MCP æ¨¡å—:
services/mcp/
â”œâ”€â”€ index.ts               (ç»Ÿä¸€å¯¼å‡º)
â”œâ”€â”€ client/                (å®¢æˆ·ç«¯)
â”œâ”€â”€ tools/                 (å·¥å…·è½¬æ¢ã€æ‰§è¡Œ)
â”œâ”€â”€ cache/                 (ç¼“å­˜ç®¡ç†)
â”œâ”€â”€ transport/             (ä¼ è¾“)
â”œâ”€â”€ types.ts               (ä» types/mcp.ts è¿ç§»æˆ–é‡æ–°å¯¼å‡º)
â””â”€â”€ constants.ts           (ä» constants/mcp.ts è¿ç§»æˆ–é‡æ–°å¯¼å‡º)
```

#### 6. åˆ›å»ºæœç´¢æ¨¡å—å®Œæ•´é›†æˆ
```
ç›®å‰åˆ†æ•£åœ¨:
- services/search/*
- hooks/use-web-search.ts

å»ºè®®:
services/search/
â”œâ”€â”€ index.ts               (ç»Ÿä¸€å¯¼å‡º SearchClient ç­‰)
â”œâ”€â”€ client/                (æœç´¢å®¢æˆ·ç«¯ä¸»ä½“)
â”œâ”€â”€ engines/               (å„æœç´¢å¼•æ“)
â”œâ”€â”€ cache/                 (æœç´¢ç¼“å­˜)
â””â”€â”€ hooks.ts               (æˆ–åœ¨ hooks/use-web-search.ts ä¸­å¯¼å…¥ç»Ÿä¸€)
```

### é•¿æœŸä¼˜åŒ–ï¼ˆLow Priorityï¼‰

#### 7. ç»Ÿä¸€å·¥å…·å‡½æ•°åˆ†ç±»
```
utils/
â”œâ”€â”€ logging/
â”‚   â””â”€â”€ logger.ts
â”œâ”€â”€ cache/
â”‚   â””â”€â”€ render-cache.ts
â”œâ”€â”€ model/
â”‚   â””â”€â”€ model-logo.ts
â”œâ”€â”€ styling/
â”‚   â”œâ”€â”€ classnames.ts
â”‚   â””â”€â”€ (å…¶ä»–æ ·å¼å·¥å…·)
â”œâ”€â”€ network/
â”‚   â””â”€â”€ http.ts
â””â”€â”€ events/
    â””â”€â”€ events.ts
```

#### 8. ä¼˜åŒ– services/ai ç»“æ„
```
services/ai/
â”œâ”€â”€ index.ts                      (ç»Ÿä¸€å¯¼å‡º)
â”œâ”€â”€ client/
â”‚   â”œâ”€â”€ AiClient.ts               (ä¸»å®¢æˆ·ç«¯ < 400 è¡Œ)
â”‚   â”œâ”€â”€ request.ts                (è¯·æ±‚æ„å»º)
â”‚   â””â”€â”€ response.ts               (å“åº”å¤„ç†)
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ ModelCapabilities.ts
â”‚   â”œâ”€â”€ ModelDiscovery.ts
â”‚   â”œâ”€â”€ ModelValidation.ts
â”‚   â””â”€â”€ (validation ç›¸å…³æ•´åˆ)
â”œâ”€â”€ integration/
â”‚   â”œâ”€â”€ mcpIntegration.ts
â”‚   â””â”€â”€ searchIntegration.ts (å¦‚æœ‰)
â””â”€â”€ types.ts
```

---

## ä¸ƒã€æ–‡ä»¶å¯¼å…¥è·¯å¾„ä¼˜åŒ–å»ºè®®

### å½“å‰æƒ…å†µ
```typescript
// å¯¼å…¥å¯èƒ½å¾ˆé•¿
import { MessageBubble } from '@/components/chat/MessageBubble';
import { SearchClient } from '@/services/search/SearchClient';
import { logger } from '@/utils/logger';
```

### ä¼˜åŒ–æ–¹æ¡ˆ
```typescript
// æ–¹æ¡ˆ A: æ¯ä¸ªå­ç›®å½•åˆ›å»º index.ts
import { MessageBubble } from '@/components/chat/message';
import { ChatInput } from '@/components/chat/input';

// æ–¹æ¡ˆ B: åœ¨ä¸»ç›®å½•åˆ›å»ºæ±‡æ€» index.ts
import { MessageBubble, MessageList } from '@/components/chat';

// æ–¹æ¡ˆ C: åˆ›å»ºåˆ«åè·¯ç”±
// jsconfig.json / tsconfig.json
{
  "paths": {
    "@chat/*": ["components/chat/*"],
    "@services/*": ["services/*"],
    "@ui/chat": ["components/chat/index"]
  }
}

import { MessageBubble } from '@ui/chat';
import { SearchClient } from '@services/search';
```

---

## å…«ã€å‘½åè§„èŒƒä¸€è‡´æ€§æ£€æŸ¥

### æ–‡ä»¶å‘½åæ¨¡å¼

| æ¨¡å¼ | æ–‡ä»¶æ•° | ä¾‹å­ | å¤‡æ³¨ |
|------|--------|------|------|
| PascalCase (.tsx) | 50+ | MessageBubble.tsx | UI ç»„ä»¶ âœ… |
| camelCase (.tsx) | 30+ | use-message-sender.ts | Hooks âœ… |
| camelCase (.ts) | 50+ | AiClient.ts | Services âš ï¸ (æ··åˆ) |
| UPPER_CASE | 0 | - | æ— å¸¸é‡æ–‡ä»¶ - |
| kebab-case | 15+ | html-parser.ts | å·¥å…·å‡½æ•° âœ… |

**é—®é¢˜**: 
- Services ä¸­éƒ¨åˆ†æ–‡ä»¶ç”¨ PascalCase (AiClient.ts) è€Œéƒ¨åˆ†ç”¨ camelCase (mcpIntegration.ts)
- å»ºè®®ç»Ÿä¸€ä¸º camelCase (ä¸šç•Œæ ‡å‡†)

### å»ºè®®ç»Ÿä¸€
```
// ç±»/å¯¼å‡ºç±»ç”¨ PascalCaseï¼Œä½†æ–‡ä»¶åç”¨ camelCase
src/services/ai/
â”œâ”€â”€ aiClient.ts              (å¯¼å‡º AiClient ç±»)
â”œâ”€â”€ modelCapabilities.ts     (å¯¼å‡º ModelCapabilities ç±»)
â””â”€â”€ topicNaming.ts           (å¯¼å‡º TopicNaming ç±»)
```

---

## ä¹ã€æ ¸å¿ƒæ•°æ®æµæ‹“æ‰‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     UI å±‚ (components/)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ chat/*       â”‚ common/*     â”‚ settings/*   â”‚         â”‚
â”‚  â”‚ providers/*  â”‚              â”‚              â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Hooks å±‚ (hooks/)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ use-message- â”‚ use-web-     â”‚ use-image-   â”‚         â”‚
â”‚  â”‚ sender       â”‚ search       â”‚ generation   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Services å±‚     â”‚â”‚ Services å±‚  â”‚â”‚ Services å±‚      â”‚
â”‚ (ai/)           â”‚â”‚ (search/)    â”‚â”‚ (mcp/)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AiClient        â”‚â”‚ SearchClient â”‚â”‚ McpClient        â”‚
â”‚ ModelCaps       â”‚â”‚ engines/*    â”‚â”‚ CacheManager     â”‚
â”‚ TopicNaming     â”‚â”‚ utils/*      â”‚â”‚ transport/       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Storage å±‚      â”‚â”‚ Utils å±‚     â”‚â”‚ Constants        â”‚
â”‚ repositories/   â”‚â”‚ logger.ts    â”‚â”‚ theme.ts         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ messages.ts     â”‚â”‚ mcpTool.ts   â”‚â”‚ prompts.ts       â”‚
â”‚ chat.ts         â”‚â”‚ events.ts    â”‚â”‚ assistants.ts    â”‚
â”‚ providers.ts    â”‚â”‚ cache.ts     â”‚â”‚ mcp.ts           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  SQLite Database    â”‚
                â”‚ (sqlite/)           â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åã€æ€»ä½“è¯„åˆ†å’Œæ’å

### ç›®å½•ç»„ç»‡è¯„åˆ†ï¼ˆæ»¡åˆ† 10ï¼‰

| ç»´åº¦ | è¯„åˆ† | è¯´æ˜ | å»ºè®® |
|------|------|------|------|
| **æ¨¡å—åˆ†ç¦»** | 8/10 | åŠŸèƒ½æ¨¡å—åˆ†ç±»æ¸…æ™°ï¼ŒåŸºæœ¬èŒè´£åˆ†ç¦» | ç»§ç»­ä¿æŒ |
| **æ–‡ä»¶ç²’åº¦** | 6/10 | components/chat æ–‡ä»¶è¿‡å¤šï¼Œhooks æœ€å¤§æ–‡ä»¶è¿‡å¤§ | æ‹†åˆ† chat ç›®å½•ï¼Œåˆ†è§£è¶…å¤§æ–‡ä»¶ |
| **å‘½åè§„èŒƒ** | 7/10 | åŸºæœ¬ä¸€è‡´ï¼Œä½† Services å±‚å‘½åæ··ä¹± | ç»Ÿä¸€ä¸º camelCase + PascalCase ç±» |
| **å¯æŸ¥è¯¢æ€§** | 6/10 | æ–‡ä»¶åè¾ƒé•¿ï¼Œchat ç›®å½•æ–‡ä»¶è¿‡å¤š | åˆ›å»ºå­ç›®å½•ï¼Œå¢åŠ  index.ts |
| **å¯ç»´æŠ¤æ€§** | 7/10 | æ•°æ®æµæ¸…æ™°ï¼Œä½†éƒ¨åˆ†æ¨¡å—è€¦åˆåº¦é«˜ | è¿›ä¸€æ­¥è§£è€¦ McpClientã€Hooks |
| **å¯æ‰©å±•æ€§** | 7/10 | æ˜“äºæ·»åŠ æ–°æœåŠ¡ï¼Œä½† chat ç»„ä»¶éš¾æ‰©å±• | å®Œæˆ chat é‡æ„åæå‡ |
| **ä¸€è‡´æ€§** | 7/10 | ä»£ç è§„èŒƒè¾ƒå¥½ï¼Œä½†ä»£ç ç»„ç»‡ä¸å¤Ÿä¸€è‡´ | å»ºç«‹æ˜ç¡®çš„åˆ†å±‚è§„èŒƒ |
| **æ–‡æ¡£å®Œæ•´** | 8/10 | å¤§å¤šæ¨¡å—æœ‰ CLAUDE.md æ–‡æ¡£ | è¡¥å……æ–°æ¨¡å—æ–‡æ¡£ |
| **æ•´ä½“å¾—åˆ†** | 7/10 | ä¸­ç­‰æ°´å¹³ï¼Œæœ‰æ”¹è¿›ç©ºé—´ | æŒ‰ä¼˜å…ˆçº§é€æ­¥ä¼˜åŒ– |

### ä¸è¡Œä¸šæ ‡å‡†å¯¹æ¯”

| é¡¹ç›®ç±»å‹ | ç»„ç»‡æ–¹å¼ | AetherLink_z | å·®è· |
|---------|---------|-------------|------|
| React åº”ç”¨ | åŠŸèƒ½åˆ†å±‚ | âœ… å®Œæ•´ | - |
| Hooks å¤ç”¨ | ç»Ÿä¸€ hooks/ | âœ… æœ‰ï¼Œ13 ä¸ª | âœ… è¾¾æ ‡ |
| æœåŠ¡é›†æˆ | services/ | âœ… æœ‰ï¼Œ7 ä¸ª | âœ… è¾¾æ ‡ |
| æ•°æ®å±‚éš”ç¦» | storage/ | âœ… repositories æ¨¡å¼ | âœ… è¾¾æ ‡ |
| ç±»å‹å®‰å…¨ | types/ + TS | âœ… å®Œæ•´ | âœ… è¾¾æ ‡ |
| ç»„ä»¶ç²’åº¦ | å¹³å‡ < 500 è¡Œ | âš ï¸ chat ç»„ä»¶è¾ƒå¤§ | éœ€æ”¹è¿› |

---

## åä¸€ã€å¿«é€Ÿå‚è€ƒï¼šæ–‡ä»¶å®šä½

### æŸ¥æ‰¾ç‰¹å®šåŠŸèƒ½

| éœ€æ±‚ | ä½ç½® |
|------|------|
| ä¿®æ”¹èŠå¤©æ¶ˆæ¯æ˜¾ç¤º | components/chat/MessageBubble.tsx (516 è¡Œ) |
| ä¿®æ”¹ AI æ¨¡å‹æ”¯æŒ | services/ai/AiClient.ts, ModelCapabilities.ts |
| ä¿®æ”¹æœç´¢åŠŸèƒ½ | services/search/*, hooks/use-web-search.ts |
| ä¿®æ”¹ MCP å·¥å…· | services/mcp/McpClient.ts, utils/mcpTool.ts |
| ä¿®æ”¹æ•°æ®å­˜å‚¨ | storage/repositories/* |
| ä¿®æ”¹è¾“å…¥æ¡† | components/chat/ChatInput.tsx (456 è¡Œ) |
| ä¿®æ”¹è¯­éŸ³è¯†åˆ« | services/voice/*, hooks/use-voice-recognition.ts |
| ä¿®æ”¹ä¸»é¢˜ç³»ç»Ÿ | constants/theme.ts, components/providers/ThemeProvider.tsx |
| ä¿®æ”¹å¿«æ·çŸ­è¯­ | hooks/use-quick-phrases.ts, storage/repositories/quick-phrases.ts |
| ä¿®æ”¹è®¾ç½®é¡µ | app/settings/* (12 ä¸ªæ–‡ä»¶) |

---

## æ€»ç»“ä¸å»ºè®®ä¼˜å…ˆçº§

### Phase 1 - ç´§æ€¥ï¼ˆæœ¬å‘¨ï¼‰
- [ ] æ‹†åˆ† components/chat/ ä¸º 6-7 ä¸ªå­ç›®å½•
- [ ] æ‹†åˆ† hooks/use-message-sender.ts ä¸ºå­æ¨¡å—
- [ ] å»ºç«‹ index.ts å¯¼å‡ºä»¥ä¿æŒå‘åå…¼å®¹

### Phase 2 - é«˜ä¼˜å…ˆçº§ï¼ˆ2 å‘¨å†…ï¼‰
- [ ] æ‹†åˆ† services/mcp/McpClient.ts ä¸ºå¤šä¸ªæ¨¡å—
- [ ] ä¼˜åŒ– utils/mcpTool.tsï¼Œè€ƒè™‘è¿ç§»éƒ¨åˆ†é€»è¾‘åˆ° services/mcp/
- [ ] ç»Ÿä¸€ Services å±‚å‘½åè§„èŒƒ

### Phase 3 - ä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆ1 æœˆå†…ï¼‰
- [ ] ä¼˜åŒ– services/ai/ ç»“æ„
- [ ] åˆ›å»ºç»Ÿä¸€çš„ MCP æ¨¡å—å¯¼å‡º
- [ ] å¢å¼ºæ–‡æ¡£è¦†ç›–ç‡

### Phase 4 - é•¿æœŸï¼ˆ3 æœˆ+ï¼‰
- [ ] åˆ†ç±»æ•´ç† utils/ ç›®å½•
- [ ] å®Œå–„æµ‹è¯•è¦†ç›–
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œä»£ç å®¡è®¡

